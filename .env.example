# Quant Async Configuration Template
# Copy this file to .env and update values as needed
# These environment variables can override command-line arguments

# =============================================================================
# Interactive Brokers Connection Settings
# =============================================================================

# IB TWS/Gateway hostname (usually localhost for local installations)
IB_HOST=localhost

# IB TWS/Gateway port
# TWS: 7497 (live) / 7496 (paper)  
# Gateway: 4001 (live) / 4002 (paper)  
IB_PORT=4001

# IB client ID (must be unique for each connection)
# Range: 0-32 for manual trading, 100+ recommended for automated trading
IB_CLIENT_ID=996

# =============================================================================
# PostgreSQL Database Settings
# =============================================================================

# PostgreSQL server hostname
DB_HOST=localhost

# PostgreSQL server port (default: 5432)
DB_PORT=5432

# Database name for market data storage
DB_NAME=quant_async

# Database username
DB_USER=quant_async

# Database password (use strong password in production)
DB_PASS=quant_async

# Skip database logging (true/false)
# Set to true for testing without database
DB_SKIP=false

# =============================================================================
# ZeroMQ Configuration
# =============================================================================

# ZeroMQ publisher port for real-time data streaming
# Blotter publishes on this port, algorithms subscribe to it
ZMQ_PORT=12345

# ZeroMQ topic prefix (auto-generated if not specified)
# Format: _quant_async_{blotter_name}_
# Leave empty for automatic generation
ZMQ_TOPIC=

# =============================================================================
# Blotter Configuration
# =============================================================================

# Blotter instance name (optional, auto-detected if not specified)
BLOTTER_NAME=

# Path to symbols CSV file for market data subscriptions
# File should contain: symbol,sec_type,exchange,currency,expiry,strike,opt_type
SYMBOLS_FILE=symbols.csv

# Enable order book/market depth data (true/false)
# Warning: Increases data volume significantly
ORDERBOOK=false

# =============================================================================
# Logging Configuration
# =============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=DEBUG

# =============================================================================
# Production Settings (Optional)
# =============================================================================

# Health check endpoint port (for monitoring)
HEALTH_CHECK_PORT=8080

# Metrics collection interval in seconds
METRICS_INTERVAL=60

# Maximum retry attempts for IB connection
MAX_RETRY_ATTEMPTS=10

# Connection retry backoff multiplier
RETRY_BACKOFF=2

# Maximum wait time between retries (seconds)
MAX_RETRY_WAIT=60

# =============================================================================
# Integration Testing Configuration
# =============================================================================

# Test database settings (for integration tests)
# Set these when running integration tests with real PostgreSQL
TEST_DB_HOST=localhost
TEST_DB_PORT=5432
TEST_DB_USER=test_user
TEST_DB_PASS=test_pass
TEST_DB_NAME=test_quant_async

# =============================================================================
# Usage Examples:
# =============================================================================
# 
# 1. Paper Trading Setup:
#    IB_PORT=4002
#    DB_NAME=quant_async_paper
#
# 2. Live Trading Setup:
#    IB_PORT=4001
#    DB_NAME=quant_async_live
#    LOG_LEVEL=INFO
#
# 3. Unit Testing Setup:
#    DB_SKIP=true
#    LOG_LEVEL=DEBUG
#
# 4. Integration Testing Setup:
#    TEST_DB_HOST=localhost
#    TEST_DB_USER=test_user
#    TEST_DB_PASS=test_pass
#    TEST_DB_NAME=test_quant_async
#
# 5. Multiple Blotter Instances:
#    BLOTTER_NAME=blotter_1
#    ZMQ_PORT=12345
#    IB_CLIENT_ID=996
#
#    BLOTTER_NAME=blotter_2  
#    ZMQ_PORT=12346
#    IB_CLIENT_ID=997
# =============================================================================